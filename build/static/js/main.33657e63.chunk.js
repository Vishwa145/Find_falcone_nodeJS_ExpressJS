(this.webpackJsonptravleproblem=this.webpackJsonptravleproblem||[]).push([[0],{88:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(11),s=n.n(l),o=n(5);var i=function(){return Object(o.jsx)("div",{children:Object(o.jsxs)("nav",{className:"header",children:[Object(o.jsx)("label",{onClick:function(){window.location.reload(!1)},children:"Reset"}),Object(o.jsx)("a",{href:"https://csb-ffsy5.netlify.app/",children:"Resume"})]})})},r=n(14),u=n(50),d=n(64),h=n(140),j=n(139),b=n(142),m=n(133);var f=function(e){var t=Object(a.useState)(null),n=Object(r.a)(t,2),c=n[0],l=n[1],s=Object(a.useState)(null),i=Object(r.a)(s,2),f=i[0],p=i[1],O=Object(a.useState)("none"),x=Object(r.a)(O,2),v=x[0],g=x[1],y=Object(a.useState)(0),k=Object(r.a)(y,2),S=k[0],_=k[1],C=Object(a.useState)("none"),q=Object(r.a)(C,2),w=q[0],N=q[1];function F(t){e.vehicles.forEach((function(n){if(n.name===t.target.value){e.changevehicles((function(e){return e.map((function(e){return t.target.value===e.name?e.total_no--:null!==f&&void 0!==f&&f.name===e.name&&e.total_no++,e}))})),e.changerequestbody((function(t){return t.vehicle_names[e.index]=n.name,t})),setTimeout((function(){t.target.disabled=!1}),500),p(n);var a=c.distance/n.speed;e.changetotaltime((function(e){return e-S+a})),_(c.distance/n.speed)}}))}function E(){N("block"),setTimeout((function(){N("none")}),1e3)}return Object(a.useEffect)((function(){if(null===c){for(var t=document.getElementsByClassName("vehicle"+e.index),n=0;n<t.length;n++)t[n].checked=!1;e.changevehicles((function(t){return t.map((function(t){return null!==f&&void 0!==f&&f.name===t.name&&(t.total_no++,e.changerequestbody((function(t){return t.vehicle_names[e.index]=null,t})),p(null),e.changetotaltime((function(e){return e-S})),_(0)),t}))})),g("none")}}),[c]),Object(o.jsxs)("div",{children:[Object(o.jsx)(h.a,{id:"planet"+e.id,options:e.planets.map((function(e){return e.name})),getOptionLabel:function(e){return e},style:{width:190,color:"red"},getOptionSelected:function(e,t){return e.name===t.name},onChange:function(t){void 0===t.target.innerText?(e.changeplanets((function(e){return[].concat(Object(d.a)(e),[c])})),l(null),e.changerequestbody((function(t){return t.planet_names[e.index]=null,t}))):e.planets.forEach((function(n){n.name===t.target.innerText&&(e.changeplanets(e.planets.filter((function(e){return e.name!==t.target.innerText}))),e.changerequestbody((function(t){return t.planet_names[e.index]=n.name,t})),l(n),g("block"))}))},renderInput:function(e){return Object(o.jsx)(j.a,Object(u.a)(Object(u.a)({},e),{},{label:"Select the Planet",variant:"outlined"}))}}),e.vehicles.map((function(t,n){return 0===t.total_no||null===c||c.distance>t.max_distance?Object(o.jsxs)("div",{onClick:E,style:{display:v},children:[Object(o.jsx)("input",{className:"vehicle"+e.index,onClick:E,type:"radio",id:t.name,name:"vehicle"+e.index,value:t.name,disabled:!0}),Object(o.jsxs)("label",{forhtml:t.name,children:[t.name," (",t.total_no,")"]}),Object(o.jsx)("br",{})]},n):Object(o.jsxs)("div",{style:{display:v},children:[Object(o.jsx)("input",{type:"radio",onChange:F,className:e.index,id:"vehicle"+t.name,name:"vehicle"+e.index,value:t.name}),Object(o.jsxs)("label",{forhtml:t.name,children:[t.name," (",t.total_no,")"]}),Object(o.jsx)("br",{})]},n)})),Object(o.jsxs)(b.a,{severity:"info",className:"warning",style:{display:w},children:[Object(o.jsx)(m.a,{children:"Info"}),"Planet not selected || Distance of planet exceeds maximum distance limit of vehicle || No vehicles availalbe of this kind"]})]})},p=n(134),O=n(49),x=n.n(O),v=n(143),g=n(138),y=n(136),k=n(137),S=n(135);var _=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],l=t[1],s=Object(a.useState)([]),i=Object(r.a)(s,2),u=i[0],d=i[1],h=Object(a.useState)(0),j=Object(r.a)(h,2),b=j[0],m=j[1],O=Object(a.useState)({token:"",planet_names:[null,null,null,null],vehicle_names:[null,null,null,null]}),_=Object(r.a)(O,2),C=_[0],q=_[1],w=Object(a.useState)(),N=Object(r.a)(w,2),F=N[0],E=N[1],T=c.a.useState(!1),I=Object(r.a)(T,2),L=I[0],R=I[1];Object(a.useEffect)((function(){fetch("/planets").then((function(e){200===e.status?e.json().then((function(e){l(e)})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)})),fetch("/vehicles").then((function(e){200===e.status?e.json().then((function(e){d(e)})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Fetch Error :-S",e)})),fetch("/token",{method:"post",headers:{Accept:"application/json"}}).then((function(e){200===e.status?e.json().then((function(e){q((function(t){return t.token=e.token,t}))})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Request failed",e)}))}),[]);var D=function(){window.location.reload(!1)};return Object(o.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),fetch("/expedationresult",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(C)}).then((function(e){200===e.status?e.json().then((function(e){E(e),R(!0)})):console.log("Looks like there was a problem. Status Code: "+e.status)})).catch((function(e){console.log("Request failed",e)}))},children:[Object(o.jsxs)("div",{className:"main",children:[Object(o.jsx)(f,{index:0,planets:n,changeplanets:l,vehicles:u,changevehicles:d,requestbody:C,changerequestbody:q,totaltime:b,changetotaltime:m}),Object(o.jsx)(f,{index:1,planets:n,changeplanets:l,vehicles:u,changevehicles:d,requestbody:C,changerequestbody:q,totaltime:b,changetotaltime:m}),Object(o.jsx)(f,{index:2,planets:n,changeplanets:l,vehicles:u,changevehicles:d,requestbody:C,changerequestbody:q,totaltime:b,changetotaltime:m}),Object(o.jsx)(f,{index:3,planets:n,changeplanets:l,vehicles:u,changevehicles:d,requestbody:C,changerequestbody:q,totaltime:b,changetotaltime:m}),Object(o.jsxs)("h2",{children:["Time taken: ",b]})]}),Object(o.jsxs)("div",{className:"btn",children:[""===C.token||C.planet_names.includes(null)||C.vehicle_names.includes(null)?Object(o.jsx)(p.a,{variant:"contained",color:"default",type:"submit",disabled:!0,endIcon:Object(o.jsx)(x.a,{}),children:"Find Falcone"}):Object(o.jsx)(p.a,{variant:"contained",color:"default",type:"submit",endIcon:Object(o.jsx)(x.a,{}),children:"Find Falcone"}),Object(o.jsx)("div",{children:Object(o.jsxs)(v.a,{open:L,onClose:D,"aria-labelledby":"form-dialog-title",children:[Object(o.jsx)(S.a,{id:"form-dialog-title",children:"expedition result"}),Object(o.jsx)(y.a,{children:Object(o.jsxs)(k.a,{children:["success"===F?"Found Falcon in planet: "+F.planet_name:"Sorry, couldn't find flacon","."]})}),Object(o.jsx)(g.a,{children:Object(o.jsx)(p.a,{onClick:D,color:"primary",children:"Cancel"})})]})})]})]})};var C=function(){var e=(new Date).getFullYear();return Object(o.jsxs)("div",{className:"footer",children:["Copyright \u24d2 ",e]})};var q=function(){return Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)(i,{}),Object(o.jsx)(_,{}),Object(o.jsx)(C,{})]})};s.a.render(Object(o.jsx)(q,{}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.33657e63.chunk.js.map